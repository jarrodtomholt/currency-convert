(window.webpackJsonp=window.webpackJsonp||[]).push([[5,4],{284:function(t,e,r){"use strict";r.r(e);r(40),r(60);var n={props:{report:{type:null|Object,default:null,required:!0}},data:function(){return{currentIndex:0}},computed:{reportRateData:function(){return this.isPagedReport?this.report.rates[Object.keys(this.report.rates)[this.currentIndex]]:this.report.rates},isPagedReport:function(){return["weekly","monthly"].includes(this.report.interval)}},methods:{increment:function(){null!==this.currentIndex&&0!==this.currentIndex&&this.currentIndex++},decrement:function(){this.currentIndex!==this.report.rates.length&&this.currentIndex--}}},o=r(22),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return t.report?e("div",{staticClass:"relative z-10",attrs:{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"}},[e("div",{staticClass:"pointer-events-none fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t._v(" "),e("div",{staticClass:"pointer-events-auto fixed inset-40 z-10"},[e("div",{staticClass:"absolute -top-2 -right-2 z-40 flex"},[e("button",{staticClass:"bg-gray-300 text-gray-500 h-6 w-6 text-center rounded-full shadow-sm hover:text-white focus:outline-none focus:ring-2 focus:ring-white",attrs:{type:"button"},on:{click:function(e){t.report=null}}},[e("span",{staticClass:"sr-only"},[t._v("Close panel")]),t._v(" "),e("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"}})])])]),t._v(" "),e("div",{staticClass:"flex h-full w-full items-end justify-center p-4 text-center overflow-hidden"},[e("div",{staticClass:"relative transform overflow-auto h-full w-full rounded-lg bg-white pb-4 text-left shadow-xl transition-all"},[e("div",{staticClass:"px-4 py-5 sm:p-6"},[e("h3",{staticClass:"text-lg font-medium leading-6 text-gray-900"},[t._v("\n                        "+t._s(t.report.currencies)+" : "+t._s(t.report.from)+" -> "+t._s(t.report.to)+"\n                    ")]),t._v(" "),t.isPagedReport?e("span",{staticClass:"isolate inline-flex rounded-md shadow-sm"},[e("button",{staticClass:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",attrs:{type:"button"},on:{click:t.decrement}},[e("span",{staticClass:"sr-only"},[t._v("Previous")]),t._v(" "),e("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"}})])]),t._v(" "),e("button",{staticClass:"relative -ml-px inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",attrs:{type:"button"},on:{click:t.increment}},[e("span",{staticClass:"sr-only"},[t._v("Next")]),t._v(" "),e("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"}})])])]):t._e()]),t._v(" "),e("table",{staticClass:"fixed w-full divide-y divide-gray-300"},[e("thead",{staticClass:"sticky top-0 bg-gray-50"},[e("tr",[e("th",{staticClass:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",attrs:{scope:"col"}},[t._v("\n                            Date\n                        ")]),t._v(" "),t._l(t.report.currencies,(function(r,n){return e("th",{staticClass:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",attrs:{scope:"col"}},[t._v("\n                            "+t._s(r)+"\n                        ")])}))],2)]),t._v(" "),e("tbody",{staticClass:"divide-y divide-gray-200 bg-white"},t._l(t.reportRateData,(function(r,n){return e("tr",[e("td",{staticClass:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},[t._v("\n                                "+t._s(n)+"\n                            ")]),t._v(" "),t._l(r,(function(r,n){return e("td",{staticClass:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},[t._v("\n                                "+t._s(r.rate)+"\n                            ")])}))],2)})),0)])])])])]):t._e()}),[],!1,null,null,null);e.default=component.exports},287:function(t,e,r){"use strict";r.r(e);r(33),r(57),r(41),r(15),r(145),r(40),r(29),r(58),r(34),r(59);var n=r(25),o=r(56),l=r(285),c=r.n(l),d=r(284);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var v={name:"ExchangeRateReportsComponent",components:{Multiselect:c.a,ReportModal:d.default},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)({currencies:"currency/currencies"})),data:function(){return{toConvert:[],reports:null,report:null,submitting:!1,range:"Last 12 Months",ranges:["Last 12 Months","Last 6 Months","Last Month"]}},methods:{displayReport:function(t){var e=this;this.submitting||(this.submitting=!0,this.$axios.get("reports/".concat(t.id)).then((function(t){e.report=t.data})).finally((function(){e.submitting=!1})))},requestNewReport:function(){var t=this;this.submitting||0===this.toConvert.length||(this.submitting=!0,this.$axios.post("reports",{currencies:this.toConvert.map((function(t){return t.code})),range:this.range}).then((function(e){t.reports.push(e.data)})).finally((function(){t.submitting=!1,t.toConvert=[]})))}},mounted:function(){var t=this;this.$axios.get("reports").then((function(e){t.reports=e.data}))}},m=v,h=r(22),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-hidden bg-white shadow sm:rounded-lg"},[e("div",{staticClass:"bg-white px-6 py-5 my-4"},[e("div",{staticClass:"space-y-4"},[t._m(0),t._v(" "),t.currencies?e("form",{staticClass:"flex flex-row items-end justify-between",on:{submit:function(e){return e.preventDefault(),t.requestNewReport.apply(null,arguments)}}},[e("div",{staticClass:"w-1/2"},[e("label",{staticClass:"block text-sm font-medium text-gray-700"},[t._v("Select currencies to compare")]),t._v(" "),e("multiselect",{staticClass:"text-gray-700",attrs:{options:t.currencies,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select currencies to compare",label:"code","track-by":"name","max-height":255,max:5,searchable:!t.submitting},scopedSlots:t._u([{key:"option",fn:function(r){var option=r.option;return[e("strong",[t._v(t._s(option.code))]),t._v(" "),e("small",{staticClass:"text-sm ml-3"},[t._v(t._s(option.name))])]}}],null,!1,1797006662),model:{value:t.toConvert,callback:function(e){t.toConvert=e},expression:"toConvert"}})],1),t._v(" "),e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"location"}},[t._v("Report Range")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.range,expression:"range"}],staticClass:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",attrs:{id:"location",name:"location"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.range=e.target.multiple?r:r[0]}}},t._l(t.ranges,(function(r){return e("option",{domProps:{value:r}},[t._v(t._s(r))])})),0)]),t._v(" "),e("button",{staticClass:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",attrs:{type:"submit"}},[t._v("\n                    Request\n                ")])]):t._e()])]),t._v(" "),e("div",{staticClass:"border-t border-gray-200"},[t.reports?e("table",{staticClass:"min-w-full divide-y divide-gray-300"},[t._m(1),t._v(" "),e("tbody",{staticClass:"divide-y divide-gray-200 bg-white"},t._l(t.reports,(function(r,n){return e("tr",{staticClass:"cursor-pointer hover:bg-gray-100",on:{click:function(e){return t.displayReport(r)}}},[e("td",{staticClass:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},[t._v("\n                        "+t._s(r.currencies.join(", "))+"\n                    ")]),t._v(" "),e("td",{staticClass:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},[t._v("\n                        "+t._s(r.interval)+"\n                    ")]),t._v(" "),e("td",{staticClass:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},[t._v("\n                        "+t._s(r.from)+"\n                    ")]),t._v(" "),e("td",{staticClass:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},[t._v("\n                        "+t._s(r.to)+"\n                    ")]),t._v(" "),e("td",{staticClass:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},[t._v("\n                        "+t._s(r.status)+"\n                    ")])])})),0)]):e("div",{staticClass:"flex py-12 h-full flex-1 items-center justify-center text-gray-400 font-light"},[t._v("\n            No reports to display... create one?\n        ")])]),t._v(" "),t.report?e("ReportModal",{attrs:{report:t.report}}):t._e()],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"my-2"},[t("h3",{staticClass:"text-lg font-medium leading-6 text-gray-900"},[this._v("Request Exchange Rate Report")])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"bg-gray-50"},[e("tr",[e("th",{staticClass:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",attrs:{scope:"col"}},[t._v("\n                        Currencies\n                    ")]),t._v(" "),e("th",{staticClass:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",attrs:{scope:"col"}},[t._v("\n                        Format\n                    ")]),t._v(" "),e("th",{staticClass:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",attrs:{scope:"col"}},[t._v("\n                        From\n                    ")]),t._v(" "),e("th",{staticClass:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",attrs:{scope:"col"}},[t._v("\n                        To\n                    ")]),t._v(" "),e("th",{staticClass:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",attrs:{scope:"col"}},[t._v("\n                        Status\n                    ")])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{ReportModal:r(284).default})}}]);